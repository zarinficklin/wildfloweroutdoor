(function(a,b){a.Slider=function(b,c){this.$el=a(c);this._init(b)};a.Slider.defaults={current:0,bgincrement:50,autoplay:false,interval:4e3};a.Slider.prototype={_init:function(b){this.options=a.extend(true,{},a.Slider.defaults,b);this.$slides=this.$el.children("div.da-slide");this.slidesCount=this.$slides.length;this.current=this.options.current;if(this.current<0||this.current>=this.slidesCount){this.current=0}this.$slides.eq(this.current).addClass("da-slide-current");var c=a('<nav class="da-dots"/>');for(var d=0;d<this.slidesCount;++d){c.append("<span/>")}c.appendTo(this.$el);this.$pages=this.$el.find("nav.da-dots > span");this.$navNext=this.$el.find("span.da-arrows-next");this.$navPrev=this.$el.find("span.da-arrows-prev");this.isAnimating=false;this.bgpositer=0;this.cssAnimations=Modernizr.cssanimations;this.cssTransitions=Modernizr.csstransitions;if(!this.cssAnimations||!this.cssAnimations){this.$el.addClass("da-slider-fb")}this._updatePage();this._loadEvents();if(this.options.autoplay){this._startSlideshow()}},_navigate:function(a,b){var c=this.$slides.eq(this.current),d,e=this;if(this.current===a||this.isAnimating)return false;this.isAnimating=true;var f,g,h;if(!b){a>this.current?h="next":h="prev"}else{h=b}if(this.cssAnimations&&this.cssAnimations){if(h==="next"){f="da-slide-toleft";g="da-slide-fromright";++this.bgpositer}else{f="da-slide-toright";g="da-slide-fromleft";--this.bgpositer}this.$el.css("background-position",this.bgpositer*this.options.bgincrement+"% 0%")}this.current=a;d=this.$slides.eq(this.current);if(this.cssAnimations&&this.cssAnimations){var i="da-slide-toleft da-slide-toright da-slide-fromleft da-slide-fromright";c.removeClass(i);d.removeClass(i);c.addClass(f);d.addClass(g);c.removeClass("da-slide-current");d.addClass("da-slide-current")}if(!this.cssAnimations||!this.cssAnimations){d.css("left",h==="next"?"100%":"-100%").stop().animate({left:"0%"},1e3,function(){e.isAnimating=false});c.stop().animate({left:h==="next"?"-100%":"100%"},1e3,function(){c.removeClass("da-slide-current")})}this._updatePage()},_updatePage:function(){this.$pages.removeClass("da-dots-current");this.$pages.eq(this.current).addClass("da-dots-current")},_startSlideshow:function(){var a=this;this.slideshow=setTimeout(function(){var b=a.current<a.slidesCount-1?b=a.current+1:b=0;a._navigate(b,"next");if(a.options.autoplay){a._startSlideshow()}},this.options.interval)},page:function(a){if(a>=this.slidesCount||a<0){return false}if(this.options.autoplay){clearTimeout(this.slideshow);this.options.autoplay=false}this._navigate(a)},_loadEvents:function(){var b=this;this.$pages.on("click.cslider",function(c){b.page(a(this).index());return false});this.$navNext.on("click.cslider",function(a){if(b.options.autoplay){clearTimeout(b.slideshow);b.options.autoplay=false}var c=b.current<b.slidesCount-1?c=b.current+1:c=0;b._navigate(c,"next");return false});this.$navPrev.on("click.cslider",function(a){if(b.options.autoplay){clearTimeout(b.slideshow);b.options.autoplay=false}var c=b.current>0?c=b.current-1:c=b.slidesCount-1;b._navigate(c,"prev");return false});if(this.cssTransitions){if(!this.options.bgincrement){this.$el.on("webkitAnimationEnd.cslider animationend.cslider OAnimationEnd.cslider",function(a){if(a.originalEvent.animationName==="toRightAnim4"||a.originalEvent.animationName==="toLeftAnim4"){b.isAnimating=false}})}else{this.$el.on("webkitTransitionEnd.cslider transitionend.cslider OTransitionEnd.cslider",function(a){if(a.target.id===b.$el.attr("id"))b.isAnimating=false})}}}};var c=function(a){if(this.console){console.error(a)}};a.fn.cslider=function(b){if(typeof b==="string"){var d=Array.prototype.slice.call(arguments,1);this.each(function(){var e=a.data(this,"cslider");if(!e){c("cannot call methods on cslider prior to initialization; "+"attempted to call method '"+b+"'");return}if(!a.isFunction(e[b])||b.charAt(0)==="_"){c("no such method '"+b+"' for cslider instance");return}e[b].apply(e,d)})}else{this.each(function(){var c=a.data(this,"cslider");if(!c){a.data(this,"cslider",new a.Slider(b,this))}})}return this}})(jQuery)